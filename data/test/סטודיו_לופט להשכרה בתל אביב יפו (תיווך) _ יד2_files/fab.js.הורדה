window.fifabAlready||(window.fifabAlready=!0,function(){var e=sessionStorage;window.fi_fab=function(c){return new Promise(function(f,g){var d=0,a=c||1E3,b=function(){return"1"==e.getItem("fiAV")?!0:"0"==e.getItem("fiAV")?!1:null},h=setInterval(function(){null!==b()?(clearInterval(h),f({adblock:b()})):++d>a/50&&(clearInterval(h),g())},10)})};(function(c,f,g){var d=function(a){this._options={loopCheckTime:50,loopMaxNumber:10,btClass:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",
btStyle:"width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;",checkImg:"//ad.doubleclick.net/favicon.ico?ad=300x250&ad_box_=1&adnet=1&showad=1&size=250x250"};this._var={bt:null,checking:!1,loop:null,to1:null,to2:null,loopNumber:0,cb:g};var b=this;b._var.to1=setTimeout(function(){var a=document.createElement("div");a.setAttribute("class",b._options.btClass);a.setAttribute("style",b._options.btStyle);b._var.bt=c.document.body.appendChild(a);
b._var.to2=setTimeout(function(){b.check()},1)},1);this.imageTestStart()};d.prototype._options=null;d.prototype._var=null;d.prototype._bt=null;d.prototype.check=function(){this._var.checking=!0;var a=this;this._var.loopNumber=0;this._var.loop=setInterval(function(){a._checkBait(!0)},this._options.loopCheckTime)};d.prototype._checkBait=function(){var a=!1;if(null!==c.document.body.getAttribute("abp")||null===this._var.bt.offsetParent||0==this._var.bt.offsetHeight||0==this._var.bt.offsetLeft||0==this._var.bt.offsetTop||
0==this._var.bt.offsetWidth||0==this._var.bt.clientHeight||0==this._var.bt.clientWidth)a=!0;if(void 0!==c.getComputedStyle){var b=c.getComputedStyle(this._var.bt,null);!b||"none"!=b.getPropertyValue("display")&&"hidden"!=b.getPropertyValue("visibility")||(a=!0)}this._var.loopNumber++;this._var.loopNumber>=this._options.loopMaxNumber&&(clearInterval(this._var.loop),this.elementCleanup(),!0===a?e.setItem("fiAV","1"):e.setItem("fiAV","0"));!0===a&&(this.elementCleanup(),this._var.cb(),e.setItem("fiAV",
"1"))};d.prototype.elementCleanup=function(){clearInterval(this._var.loop);clearTimeout(this._var.to1);clearTimeout(this._var.to2);this._var.imageCheck.removeEventListener("error",this.imageLoadErrorCB);this._var.imageCheck.removeEventListener("load",this.imageLoadSuccessCB);try{this._var.imageCheck.parentElement.removeChild(this._var.imageCheck)}catch(a){}try{c.document.body.removeChild(this._var.bt)}catch(a){}};d.prototype.imageLoadErrorCB=function(a){this.elementCleanup(a.target);e.setItem("fiAV",
"1");this._var.cb()};d.prototype.imageLoadSuccessCB=function(a){this.elementCleanup(a.target);e.setItem("fiAV","0")};d.prototype.imageTestStart=function(){this._var.imageCheck=document.createElement("img");this._var.imageCheck.style.display="none";var a=this;this._var.imageCheck.addEventListener("error",function(b){a.imageLoadErrorCB(b)});this._var.imageCheck.addEventListener("load",function(b){a.imageLoadSuccessCB(b)});this._var.imageCheck.src=this._options.checkImg;(c.document.body||c.document.documentElement).appendChild(this._var.imageCheck)};
"1"==e.getItem("fiAV")&&e.removeItem("fiAV");f.FAB=new d})(window,{},function(){if(!window.fifabAlreadyTracked){var c=document.querySelector("script[src='//ecdn.analysis.fi/static/js/fab.js']");c=c?parseInt(c.getAttribute("id").replace("fi-",""),10):window.apd_options.websiteId;var f=!1;null==e.getItem("fiAVseen")&&(e.setItem("fiAVseen","1"),f=!0);var g=new XMLHttpRequest;g.open("POST","//measure.analysis.fi/",!0);g.send(JSON.stringify({fv:f?1:0,s:c}));window.fifabAlreadyTracked=!0}})}());
